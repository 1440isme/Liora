<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<body>
    <!-- Header Start -->
    <header th:fragment="header">
        <!-- Top Header - Tầng trên -->
        <div class="top-header">
            <div class="container">
                <div class="row align-items-center">
                    <!-- Logo -->
                    <div class="col-auto">
                        <a class="navbar-brand" href="/" onclick="showPage('home')">
                            <img src="/admin/images/liora-white.svg" alt="Liora" height="40" class="logo-img">
                        </a>
                    </div>

                    <!-- Search Bar -->
                    <div class="col">
                        <div class="search-container">
                            <div class="position-relative">
                                <i class="mdi mdi-magnify search-icon"></i>
                                <input type="text" class="form-control search-input"
                                    placeholder="Tìm kiếm sản phẩm, thương hiệu, ...">
                            </div>
                        </div>
                    </div>

                    <!-- User & Cart -->
                    <div class="col-auto">
                        <div class="d-flex align-items-center gap-3">
                            <!-- User Account -->
                            <div id="user-section">
                                <!-- Will be populated by JavaScript -->
                            </div>

                            <!-- Cart -->
                            <button class="btn btn-cart position-relative" onclick="window.location.href='/cart'">
                                <i class="mdi mdi-shopping-outline"></i>
                                <div class="cart-text">
                                    <div class="cart-title">GIỎ HÀNG</div>
                                </div>
                                <span
                                    class="position-absolute top-0 start-100 translate-middle badge rounded-pill cart-badge">
                                    0
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Header - Tầng dưới -->
        <div class="bottom-header">
            <div class="container">
                <div class="row align-items-center">
                    <!-- Categories Button -->
                    <div class="col-auto">
                        <div class="dropdown categories-dropdown">
                            <button class="btn btn-categories" type="button" data-bs-toggle="dropdown"
                                aria-expanded="false">
                                <i class="mdi mdi-menu"></i>
                                <span>Danh Mục Sản Phẩm</span>
                            </button>
                            <div class="dropdown-menu categories-menu">
                                <div class="container-fluid">
                                    <div class="row">
                                        <!-- Cột 1: Danh mục chính -->
                                        <div class="col-md-3">
                                            <div class="category-column">
                                                <div class="category-item" th:each="category : ${parentCategories}"
                                                    th:data-category="${category.name}">
                                                    <span th:text="${category.name}"></span>
                                                    <i class="mdi mdi-chevron-right"></i>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Cột 2: Danh mục con -->
                                        <div class="col-md-3">
                                            <div class="category-column">
                                                <h6 class="column-title">DANH MỤC CON</h6>
                                                <div class="subcategory-list">
                                                    <div th:each="category : ${parentCategories}"
                                                        th:if="${category.children != null and !category.children.isEmpty()}">
                                                        <div th:each="child : ${category.children}"
                                                            th:data-category="${child.name}" th:text="${child.name}"
                                                            class="subcategory-item"></div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Main Navigation -->
                    <div class="col">
                        <nav class="main-nav">
                            <ul class="nav-list">
                                <li class="nav-item" th:each="category : ${parentCategories}">
                                    <a href="#" class="nav-link" th:data-category="${category.name}"
                                        th:text="${category.name}"></a>
                                </li>
                            </ul>
                        </nav>
                    </div>

                    <!-- About Us Button -->
                    <div class="col-auto">
                        <a href="#" class="btn btn-about" onclick="showPage('about')">
                            <i class="mdi mdi-information-outline"></i>
                            <span>Về Chúng Tôi</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>
    <!-- Header End -->
</body>

</html>