<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">

<head th:replace="admin/fragments/admin-head :: admin-head('Danh sách thương hiệu - Liora Admin')"></head>

<body class="with-welcome-text brands-page">
<div class="container-scroller">
    <div class="container-fluid page-body-wrapper">
        <div th:replace="admin/layout/admin-navbar"></div>
        <div th:replace="admin/layout/admin-sidebar"></div>

        <div class="main-panel">
            <div class="content-wrapper">
                <div class="d-sm-flex align-items-center justify-content-between border-bottom mb-3">
                    <h1 class="h3 mb-0">Quản lý thương hiệu</h1>
                    <div class="btn-wrapper">
                        <a href="/admin/brands/add" class="btn btn-primary text-white me-2">
                            <i class="mdi mdi-plus"></i> Thêm thương hiệu
                        </a>
                        <button type="button" class="btn btn-otline-dark">
                            <i class="mdi mdi-file-excel"></i> Xuất Excel
                        </button>
                    </div>
                </div>

                <!-- Filter Section -->
                <div class="card card-rounded mb-4">
                    <div class="card-body">
                        <h4 class="card-title card-title-dash">Bộ lọc</h4>
                        <div class="row">
                            <div class="col-md-4">
                                <label for="search" class="form-label">Tìm kiếm</label>
                                <input type="text" class="form-control" id="search" name="search"
                                       placeholder="Tên thương hiệu...">
                            </div>
                            <div class="col-md-3">
                                <label for="status" class="form-label">Trạng thái</label>
                                <select class="form-select" id="status" name="status">
                                    <option value="">Tất cả trạng thái</option>
                                    <option value="ACTIVE">Hoạt động</option>
                                    <option value="INACTIVE">Ngừng hoạt động</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="sortBy" class="form-label">Sắp xếp theo</label>
                                <select class="form-select" id="sortBy" name="sortBy">
                                    <option value="name">Tên A-Z</option>
                                    <option value="name_desc">Tên Z-A</option>
                                </select>
                            </div>
                            <div class="col-md-2 d-flex align-items-end">
                                <button type="button" class="btn btn-primary text-white me-2" onclick="location.reload()">
                                    <i class="mdi mdi-refresh"></i> Làm mới
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Brands List -->
                <div class="card card-rounded mb-4">
                    <div class="card-body">
                        <h4 class="card-title card-title-dash">Danh sách thương hiệu</h4>
                        <div class="brands-container row">
                            <!-- Brands will be loaded here via JavaScript -->
                        </div>
                    </div>
                </div>

                <!-- Pagination -->
                <div class="d-flex justify-content-between align-items-center">
                    <div class="text-muted">
                        <!-- Pagination info will be updated via JavaScript -->
                    </div>
                    <nav>
                        <ul class="pagination mb-0" id="pagination">
                            <!-- Pagination will be generated via JavaScript -->
                        </ul>
                    </nav>
                </div>

                <div th:replace="admin/layout/admin-footer"></div>
            </div>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xác nhận xóa thương hiệu</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>Bạn có chắc chắn muốn xóa thương hiệu <strong id="deleteBrandName">Tên thương hiệu</strong>?</p>
                <div class="alert alert-warning">
                    <i class="fas fa-exclamation-triangle"></i>
                    <strong>Cảnh báo:</strong> Hành động này không thể hoàn tác!
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy bỏ</button>
                <button type="button" class="btn btn-danger" id="confirmDelete">Xóa thương hiệu</button>
            </div>
        </div>
    </div>
</div>

<div th:replace="admin/fragments/admin-scripts :: admin-scripts"></div>
<script src="/admin/js/admin/brands.js"></script>

    <script>
        function deleteBrand(brandId, brandName) {
            document.getElementById('deleteBrandName').textContent = brandName;
            document.getElementById('deleteForm').action = '/admin/brands/' + brandId;
            new bootstrap.Modal(document.getElementById('deleteModal')).show();
        }
    </script>
</body>

</html>