<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S·∫£n ph·∫©m b√°n ch·∫°y & s·∫Øp h·∫øt h√†ng</title>
</head>

<body>
<!-- ====================== S·∫¢N PH·∫®M B√ÅN CH·∫†Y ====================== -->
<div class="card shadow mb-4">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between bg-white border-start border-4 border-primary">
        <h6 class="m-0 fw-bold text-primary">üî• S·∫£n ph·∫©m b√°n ch·∫°y</h6>
        <a href="/admin/products"
           class="btn btn-sm text-white"
           style="background-color:#5ab2ff; border-color:#5ab2ff;">
            Xem t·∫•t c·∫£
        </a>
    </div>

    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle" width="100%" cellspacing="0">
                <thead class="table-light">
                <tr>
                    <th style="width: 80px;" class="text-center">M√£ s·∫£n ph·∫©m</th>
                    <th>T√™n s·∫£n ph·∫©m</th>
                    <th style="width: 180px;">Danh m·ª•c</th>
                    <th style="width: 150px;" class="text-center">ƒê√£ b√°n</th>
                    <th style="width: 200px;">Doanh thu</th>
                    <th style="width: 120px;" class="text-center">ƒê√°nh gi√°</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="product : ${topProducts}" th:if="${product.soldQuantity > 0}">
                    <!-- M√£ s·∫£n ph·∫©m -->
                    <td class="text-center"><span class="text-dark" th:text="${product.id}">1001</span></td>

                    <!-- T√™n -->
                    <td><div class="fw-normal" th:text="${product.name}">T√™n s·∫£n ph·∫©m</div></td>

                    <!-- Danh m·ª•c -->
                    <td th:text="${product.categoryName}">Danh m·ª•c</td>

                    <!-- ƒê√£ b√°n -->
                    <td class="text-center"><span class="text-success fw-semibold" th:text="${product.soldQuantity}">150</span></td>

                    <!-- Doanh thu -->
                    <td th:text="${#numbers.formatDecimal(product.revenue, 0, 'COMMA', 0, 'POINT')} + ' ‚Ç´'">2,500,000 ‚Ç´</td>

                    <!-- ƒê√°nh gi√° -->
                    <td class="text-center">
                        <span class="fw-normal"
                               th:text="${#numbers.formatDecimal(product.rating, 1, 'COMMA', 1, 'POINT')} + '/5'">
                            4.5/5
                        </span>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(topProducts)}">
                    <td colspan="6" class="text-center text-muted">Kh√¥ng c√≥ d·ªØ li·ªáu s·∫£n ph·∫©m b√°n ch·∫°y</td>
                </tr>
                <tr th:if="${!#lists.isEmpty(topProducts) and topProducts.?[soldQuantity > 0].isEmpty()}">
                    <td colspan="6" class="text-center text-muted">Ch∆∞a c√≥ s·∫£n ph·∫©m n√†o ƒë∆∞·ª£c b√°n</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!-- ====================== S·∫¢N PH·∫®M S·∫ÆP H·∫æT H√ÄNG ====================== -->
<div class="card shadow mb-4 border-danger">
    <div class="card-header py-3 d-flex flex-row align-items-center justify-content-between bg-white border-start border-4 border-danger">
        <h6 class="m-0 fw-bold text-danger">‚ö†Ô∏è S·∫£n ph·∫©m s·∫Øp h·∫øt h√†ng</h6>
        <a href="/admin/products"
           class="btn btn-sm text-white"
           style="background-color:#ff9800; border-color:#ff9800;">
            Qu·∫£n l√Ω kho
        </a>
    </div>

    <div class="card-body">
        <div class="table-responsive">
            <table class="table table-bordered table-hover align-middle" width="100%" cellspacing="0">
                <thead class="table-light">
                <tr>
                    <th style="width: 80px;" class="text-center">M√£ s·∫£n ph·∫©m</th>
                    <th>T√™n s·∫£n ph·∫©m</th>
                    <th>Danh m·ª•c</th>
                    <th style="width: 120px;" class="text-center">T·ªìn kho</th>
                    <th style="width: 120px;" class="text-center">Tr·∫°ng th√°i</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="item : ${lowStockProducts}">
                    <!-- M√£ s·∫£n ph·∫©m -->
                    <td class="text-center">
                        <span class="text-dark" th:text="${item.productId}">2001</span>
                    </td>

                    <!-- T√™n s·∫£n ph·∫©m -->
                    <td>
                        <div class="fw-normal" th:text="${item.name}">T√™n s·∫£n ph·∫©m</div>
                    </td>

                    <!-- Danh m·ª•c -->
                    <td th:text="${item.categoryName}">Danh m·ª•c</td>

                    <!-- T·ªìn kho -->
                    <td class="text-center" th:text="${item.stock} + ' s·∫£n ph·∫©m'">5 s·∫£n ph·∫©m</td>

                    <!-- Tr·∫°ng th√°i -->
                    <td class="text-center">
                        <span th:if="${item.isActive}" class="text-success fw-semibold">Ho·∫°t ƒë·ªông</span>
                        <span th:if="${!item.isActive}" class="text-secondary fw-semibold">Ng·ª´ng</span>
                    </td>
                </tr>

                <tr th:if="${#lists.isEmpty(lowStockProducts)}">
                    <td colspan="5" class="text-center text-muted">Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o s·∫Øp h·∫øt h√†ng</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

</body>
</html>
